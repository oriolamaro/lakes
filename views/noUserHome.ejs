<!DOCTYPE html>
<html>
    <div id="navbar" class="sticky">
        <a class="a" href="/home"><i data-feather="home" class="icon"></i>Home</a>
        <a class="a" href="/users/login"><i data-feather="user" class="icon"></i>Login</a>
        <a class="a" href="/users/register"><i data-feather="user-plus" class="icon"></i>Register</a>
    </div>

    <script src="https://unpkg.com/feather-icons"></script>

    <main>
        <section class="parallax bg">
            <div class="headertext">
                <h1 class="title">Home</h1>
                <p id="phrase">Just some cool phrase here</p>
            </div>
            <i data-feather="chevron-down" class="arrow"></i>
        </section>

        <div class="content">
            <h2>Best Posts</h2><br><br>
            <div class="post-container">

                <ul class="cards">
                    <% for(var i = posts.length-1; i >= 0; i--) { %>
                        <li>
                            <a href="/<%= posts[i]._id %>" class="card">
                            <img src="<%= posts[i].image %>" class="card__image" alt="" />
                            <div class="card__overlay">
                                <div class="card__header">
                                    <svg class="card__arc" xmlns="http://www.w3.org/2000/svg"><path /></svg>                     
                                    <div class="card__header-text">
                                        <h3 class="card__title"><%= posts[i].title %></h3>            
                                        <span class="card__status"><%= posts[i].date %></span><br>
                                        <span class="card__status"><%= posts[i].author %></span>
                                    </div>
                                </div>
                                <p class="card__description"><%= posts[i].description %></p>
                                </div>
                            </a>      
                        </li>  
                    <% } %>
                </ul>

            </div>
        </div>
    </main>
</html>
<script>
    feather.replace()
</script>

<style>
    * {
        margin: 0;
    }
    .title {
        text-transform: uppercase;
        color: #FFF;
        font-size: 6em;
    }
    #phrase {
        color: #FFF;
        font-weight: 600;
    }
    .headertext {
        text-align: center;
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
    }
    #navbar {
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1;
        padding: 2em;
        margin: 0.75em;
        border-radius: 1.5em;
        background: rgba( 255, 255, 255, 0.25 );
        box-shadow: 0 8px 32px 0 rgba( 31, 38, 135, 0.37 );
        backdrop-filter: blur( 2.5px );
        -webkit-backdrop-filter: blur( 2.5px );
        border-radius: 10px;
    }
    .a {
        padding: 1.5em;
        border-radius: 1em;
        margin-right: 10em;
        margin-left: 3em;
        text-decoration: none;
        text-transform: uppercase;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        color: #323232;
        font-weight: bold;
    }
    .a:hover {
        background: rgba( 245, 245, 245, 0.3 );
        border-radius: 10px;
        border: 1px solid rgba( 245, 245, 245, 0.3 );
    }
    section {
        transform-style: preserve-3d;
        position: relative;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
    }
    .parallax::after {
        content: " ";
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        transform: translateZ(-1px) scale(1.55);
        background-size: 100%;
        z-index: -1;
    }
    .bg::after {
        background: url("https://images8.alphacoders.com/470/470318.jpg");
        background-size: cover;
    }
    main {
        height: 100vh;
        overflow-x: hidden;
        overflow-y: auto;
        perspective: 2px;
    }
    .content {
        margin-top: 60vh;
        margin-bottom: 7em;
        transform: translateZ(-1px) scale(1.3);
    }
    h2 {
        font-size: 3em;
    }
    .icon {
        margin-right: 0.3em;
        margin-bottom: -0.25em;
    }
    .arrow {
        margin-top: 50em;
        transform: translateZ(-0.5px) scale(4);
        animation-name: upndown;
        animation-duration: 2s;
        animation-iteration-count: infinite;
    }
    @keyframes upndown {
        0%   {padding-top: 1em;}
        16.6%  {padding-top: 0em;}
        33.6% {padding-top: 1em;}
        49.8% {padding-top: 0em;}
        66.4% {padding-top: 1em;}
        83% {padding-top: 0em;}
        100% {padding-top: 1em;}
        
    }
    :root {
        --surface-color: #fff;
        --curve: 40;
    }

    * {
        box-sizing: border-box;
    }

    .cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
        gap: 4rem;
        padding: 0;
        list-style-type: none;
    }

    .card {
        position: relative;
        display: block;
        height: 100%;  
        border-radius: calc(var(--curve) * 1px);
        overflow: hidden;
        text-decoration: none;
        box-shadow: 0 4px 8px 0 rgba( 31, 38, 135, 0.37 );
    }

    .card__image {      
        height: 25em;
        object-fit: cover;
        margin-bottom: 4em;
    }

    .card__overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 1;      
        border-radius: calc(var(--curve) * 1px);    
        background-color: var(--surface-color);      
        transform: translateY(100%);
        transition: .4s ease;
    }

    .card:hover .card__overlay {
        transform: translateY(0);
        border: 0;
    }

    .card__header {
        position: relative;
        display: flex;
        align-items: center;
        gap: 2em;
        padding: 2em;
        border-radius: calc(var(--curve) * 1px) 0 0 0;    
        background-color: var(--surface-color);
        transform: translateY(-100%);
        transition: .5s ease;
    }

    .card__arc {
        width: 80px;
        height: 80px;
        position: absolute;
        bottom: 100%;
        right: 0;      
        z-index: 1;
    }

    .card__arc path {
        fill: var(--surface-color);
        d: path("M 40 80 c 22 0 40 -22 40 -40 v 40 Z");
    }       

    .card:hover .card__header {
        transform: translateY(0);
    }

    .card__title {
        font-size: 2em;
        margin: 0 0 .3em;
        color: #323232;
    }

    .card__tagline {
        display: block;
        margin: 1em 0; 
        font-size: .8em; 
        color: #323232;  
    }

    .card__status {
        font-size: 1em;
        color: #757575;
    }

    .card__description {
        padding: 0 2em 2em;
        margin: 0;
        font-size: 1.2em;
        color: #525252;  
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 3;
        overflow: hidden;
    }    
    
    a {
        text-decoration: none;
        color: black;
    }
</style>

<script>
    const phrase = document.getElementById("phrase");
    var i = 0;
    const phrases = ["Learn as if you will live forever, live like you will die tomorrow", "It is better to fail in originality than to succeed in imitation", "Success usually comes to those who are too busy looking for it", "Try not to become a man of success, but rather become a man of value", "You've got to get up every morning with determination if you're going to go to bed with satisfaction", "Just one small positive thought in the morning can change your whole day", "Opportunities don't happen, you create them", "It is never too late to be what you might have been", "Rivers know this: there is no hurry. We shall get there some day"];

    function change() {
        setTimeout(function () {
            phrase.innerHTML = phrases[i];  

            if (i >= phrases.length-1) {
                i = 0;
            } else {
                i = i + 1
            }
            change();
        }, 10000);
    }

    change();

</script>